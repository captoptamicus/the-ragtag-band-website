require('dotenv').config()
const mon=require("mongoose");
const jwt=require("jsonwebtoken");
const UserData= new mon.Schema({
 Name:{
     type:String,
     required:true
 },
 Email:{
     type: String,
     required:true
 },
 State:{
     type:String,
     required:true,

 }
 ,
 Year:{
     type:Number
 }
 ,
 Level:{
     type:String

 },
 Position:{
     type:String
 },
 Political_identity:{
type:String
 },
 endrose_group:{
     type:String
 },
 Twitter:{
     type:String
 },
 date_of_election:{
     type:String
 },
 candidiate_biography:{
     type:String
 },
 campaign_website:{
     type:String
 },
 feedback_of_candidiate:{
     type:String
 },
 MMT:{
     type:String
 },
 lower_voting_age:{type:String},
 money_from_pac:{type:String},
 universal_income:{type:String},
 emp_medical_leave:{type:String},
 school_chooice:{type:String},
 pentagon_endlesswar:{type:String},
     ans1:{type:String},
     ans2:{type:String},
     ans3:{type:String},
     ans4:{type:String},
     ans5:{type:String},
     ans6:{type:String},
     ans7:{type:String},
     ans8:{type:String},
     ans9:{type:String},
     ans10:{type:String},
     ans11:{type:String},
     ans12:{type:String},
     ans13:{type:String},
     ans14:{type:String},
     ans15:{type:String},
     ans16:{type:String},
     ans17:{type:String},
     ans18:{type:String},
     ans19:{type:String},
     ans20:{type:String},
     ans21:{type:String},
     ans22:{type:String},
     ans23:{type:String},
     ans24:{type:String},
     ans25:{type:String},
     ans26:{type:String},
     ans27:{type:String},
     ans28:{type:String},
     ans29:{type:String},
     ans30:{type:String},
     ans31:{type:String},
     ans32:{type:String},
     ans33:{type:String},
     ans34:{type:String},
     ans35:{type:String},
     ans36:{type:String},
     ans37:{type:String},
     ans38:{type:String},
     ans39:{type:String},
     ans40:{type:String},
     ans41:{type:String},
     ans42:{type:String},
     ans43:{type:String},
     ans44:{type:String},
     ans45:{type:String},
     ans46:{type:String},
     ans47:{type:String},
     ans48:{type:String},
     ans49:{type:String},
     ans50:{type:String},
     ans51:{type:String},
     ans52:{type:String},
     ans53:{type:String},
     ans54:{type:String},
     ans55:{type:String},
     ans56:{type:String},
     ans57:{type:String},
     ans58:{type:String},
     ans59:{type:String},
     ans60:{type:String},
     ans61:{type:String},
     ans62:{type:String},
     ans63:{type:String},
     ans64:{type:String},
     ans65:{type:String},
     ans66:{type:String},
     ans67:{type:String},
     ans68:{type:String},
     ans69:{type:String},
     ans70:{type:String},
     ans71:{type:String},
     ans72:{type:String},
     ans73:{type:String},
     ans74:{type:String},
     ans75:{type:String},
     ans76:{type:String},
     ans77:{type:String},
     ans78:{type:String},
     ans79:{type:String},
     ans80:{type:String},
     ans81:{type:String},
     ans82:{type:String},
     ans83:{type:String},
     ans84:{type:String},
     ans85:{type:String},
     ans86:{type:String},
     ans87:{type:String},
     ans88:{type:String},
     ans89:{type:String},
     ans90:{type:String},
     ans91:{type:String},
     ans92:{type:String},
     ans93:{type:String},
     ans94:{type:String},
     ans95:{type:String},
     ans96:{type:String},
     ans97:{type:String},
     ans98:{type:String},
     ans99:{type:String},
     ans100:{type:String},
     ans101:{type:String},
     ans102:{type:String},
     ans103:{type:String},
     ans104:{type:String},
     ans105:{type:String},
     ans106:{type:String},
     ans107:{type:String},
     ans108:{type:String},
     ans109:{type:String},
     ans110:{type:String},
     ans111:{type:String},
     ans112:{type:String},
     ans113:{type:String},
     ans114:{type:String},
     ans115:{type:String},
     ans116:{type:String},
     ans117:{type:String},
     ans118:{type:String},
     ans119:{type:String},
     ans120:{type:String},
     ans121:{type:String},
     ans122:{type:String},
     ans123:{type:String},
     ans124:{type:String},
     ans125:{type:String},
     ans126:{type:String},
     ans127:{type:String},
     ans128:{type:String},
     ans129:{type:String},
     ans130:{type:String},
     ans131:{type:String},
     ans132:{type:String},
     ans134:{type:String},
     ans135:{type:String},
     ans136:{type:String},
     ans137:{type:String},
     ans138:{type:String},
     ans139:{type:String},
     ans140:{type:String},
     ans141:{type:String},
     ans142:{type:String},
     ans143:{type:String},
     ans144:{type:String},
     ans145:{type:String},
     ans146:{type:String},
     ans147:{type:String},
     ans148:{type:String},
     ans149:{type:String},
     ans150:{type:String},
     ans151:{type:String},
     ans152:{type:String},
     ans153:{type:String},
     ans154:{type:String},
     ans155:{type:String},
     ans156:{type:String},
     ans157:{type:String},
     ans158:{type:String},
     ans159:{type:String},
     ans160:{type:String},
     ans161:{type:String},
     ans162:{type:String},
     ans163:{type:String},
     ans164:{type:String},
     ans165:{type:String},
     ans166:{type:String},
     ans167:{type:String},
     ans168:{type:String},
     ans169:{type:String},
     ans170:{type:String},
     ans171:{type:String},
     ans172:{type:String},
     ans173:{type:String},
     ans174:{type:String},
     ans175:{type:String},
     ans176:{type:String},
     ans177:{type:String},
     ans178:{type:String},
     ans179:{type:String},
     ans180:{type:String},
     ans181:{type:String},
     ans182:{type:String},
     ans183:{type:String},
     ans184:{type:String},
     ans185:{type:String},
     ans186:{type:String},
     ans187:{type:String},
     ans188:{type:String},
     ans189:{type:String},
     ans190:{type:String},
     ans191:{type:String},
     ans192:{type:String},
     ans193:{type:String},
     ans194:{type:String},
     ans195:{type:String},
     ans196:{type:String},
     ans197:{type:String},
     ans198:{type:String},
     ans199:{type:String},
     ans200:{type:String},
     ans201:{type:String},
     ans202:{type:String},
     ans203:{type:String},
     ans204:{type:String},
     ans205:{type:String},
     ans206:{type:String},
     ans207:{type:String},
     ans208:{type:String},
     ans209:{type:String},
     ans210:{type:String},
     ans211:{type:String},
     ans212:{type:String},
     ans213:{type:String},
     ans214:{type:String},
     ans215:{type:String},
     ans216:{type:String},
     ans217:{type:String},
     ans218:{type:String},
     ans219:{type:String},
     ans220:{type:String},
     ans221:{type:String},
     ans222:{type:String},
     ans223:{type:String},
     ans224:{type:String},
     ans225:{type:String},
     ans226:{type:String},
     ans227:{type:String},
     ans228:{type:String},
     ans229:{type:String},
     ans230:{type:String},
     ans231:{type:String},
     ans232:{type:String},
     ans233:{type:String},
     ans234:{type:String},
     ans235:{type:String},
     ans236:{type:String},
     ans237:{type:String},
     ans238:{type:String},
     ans239:{type:String},
     ans240:{type:String},
     ans241:{type:String},
     ans242:{type:String},
     ans243:{type:String},
     ans244:{type:String},
     ans245:{type:String},
     ans246:{type:String},
     ans247:{type:String},
     ans248:{type:String},
     ans249:{type:String},
     ans250:{type:String},
     ans251:{type:String},
     ans252:{type:String},
     ans253:{type:String},
     ans254:{type:String},
     ans255:{type:String},
     ans256:{type:String},
     ans257:{type:String},
     ans258:{type:String},
     ans259:{type:String},
     ans260:{type:String},
     ans261:{type:String},
     ans262:{type:String},
     ans263:{type:String},
     ans264:{type:String},
     ans265:{type:String},
     ans266:{type:String},
     ans267:{type:String},
     ans268:{type:String},
     ans269:{type:String},
     ans270:{type:String},
     ans271:{type:String},
     ans272:{type:String},
     ans273:{type:String},
     ans274:{type:String},
     ans275:{type:String},
     ans276:{type:String},
     ans277:{type:String},
     ans278:{type:String},
     ans279:{type:String},
     ans280:{type:String},
     ans281:{type:String},
     ans282:{type:String},
     ans283:{type:String},
     ans284:{type:String},
     ans285:{type:String},
     ans286:{type:String},
     ans287:{type:String},
     ans288:{type:String},
     ans289:{type:String},
     ans290:{type:String},
     ans291:{type:String},
     ans292:{type:String},
     ans293:{type:String},
     ans294:{type:String},
     ans295:{type:String},
     ans296:{type:String},
     ans297:{type:String},
     ans298:{type:String},
     ans299:{type:String},
    tokens:[
        {
            token:{type:String,reuired:true}
        }
    ] 
    

})

UserData.methods.generateAuthToken = async function(){
    try{
      const tokeno=await jwt.sign({_id:this._id},process.env.SECRET_KEY);
      this.tokens=this.tokens.concat({token:tokeno})
      await this.save();
      return tokeno; 
    }catch(err){
        console.log(err)
    }
}

const DATA=new mon.model("DATA",UserData);

module.exports = DATA;